<br />
<div class="row" style="padding:0;margin:0;">
  <div class="col-sm-12"
    style="margin-left:0; margin-right:0; font-weight: bold; padding: 3px; padding-top:10px; background-color:#eee; margin-bottom: 10px">

    <h6 style="font-weight: bold; text-align: center;" *ngIf="category.isTopCategory == false">

      <a [routerLink]="['/category']" style="color: gray;"> Anasayfa </a>

      <i style="color:gray;" class="fa fa-chevron-right"></i>

      <a [routerLink]="['/category',category.topCategoryNameLower]" style="color: gray;"> {{category.topCategoryName}}
      </a>
      <i style="color:gray;" class="fa fa-chevron-right "></i>

      <a [routerLink]="['/category',category.nameLower]" style="color: gray;"> {{category.name}}
      </a>

    </h6>

    <h6 style="font-weight: bold; text-align: center;" *ngIf="category.isTopCategory == true">

      <a [routerLink]="['/category']" style="color: gray;"> Anasayfa </a>

      <i style="color:gray;" class="fa fa-chevron-right"></i>
      <a [routerLink]="['/category',category.nameLower]" style="color: gray;"> {{category.name}}
      </a>

    </h6>

  </div>
</div>

<br />

<div class="container">
  <div class="row" style="margin:0;">
    <br />
    <div class="col-md-4 col-12">
      <div class="row" style="background-color:white; border:1px solid #e2e2e2; border-bottom:none;">
        <img src="{{ nodejsApi }}/{{ productImage }}" class="img-fluid" />
      </div>
      <div class="row" style="background-color:white; border:1px solid #e2e2e2; border-top:none;">
        <div class="col-md-12" style="padding:0;">
          <i class="fa fa-search-plus pull-right" data-toggle="modal" data-target=".bd-example-modal-lg"
            style="font-size: 18px"></i>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 col-3" *ngFor="let image of product.image; let i = index"
          style="padding: 5px; margin:0;padding:0; border:1px solid #e2e2e2;">
          <div style="border: 1px solid #eee; background-color:white;">
            <img src="{{ nodejsApi }}/{{ image }}" (click)="showImage(i)" class="card-img-top" />
          </div>
        </div>
      </div>

      <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header" style="border: none">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <img src="{{ nodejsApi }}/{{ productImage }}" class="center" style="width: 80%" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-5">
      <h4 style="color: black; font-weight: bold">{{ product.title }}</h4>
      <div class="row col-md-12">
        <div [socialShare]="'fb'" style="
            background-color: #3b5998;
            padding: 1px;
            margin-right: 10px;
            padding-left: 4px;
            padding-right: 6px;
            color: white;
          ">
          <i class="fa fa-facebook-square" style="color: white"></i> Paylaş
        </div>
        <div [socialShare]="'tw'" style="
            background-color: #00acee;
            padding: 1px;
            margin-right: 10px;
            padding-left: 4px;
            padding-right: 6px;
            color: white;
          ">
          <i class="fa fa-twitter-square" style="color: white"></i> Paylaş
        </div>

        <div [socialShare]="'pn'" style="
            background-color: #c8232c;
            padding: 1px;
            margin-right: 10px;
            padding-left: 4px;
            padding-right: 6px;
            color: white;
          ">
          <i class="fa fa-pinterest-square" style="color: white"></i> Paylaş
        </div>
      </div>

      <br />

      <div [innerHtml]="product.description"></div>

      <br />
    </div>

    <div class="col-md-3" style="padding-right: 0;">

      <div class="card">
        <div class="card-body">
          <div class="col-md-12 col-12" style="margin-bottom: 10px; margin-top: -20px">
            <div class="row">
              <div class="col-md-4 col-4" style="margin: 0; padding: 0; min-height: 42px">
                <div *ngIf="product.freeCargo" style="
                    background-color: #ddd;
                    text-align-last: center;
                    padding: 10px;
                  ">
                  <i class="fa fa-truck" style="font-size: 20px; color: #444"></i>
                </div>
              </div>
              <div class="col-md-4 col-4"></div>
              <div class="col-md-4 col-4" style="margin: 0; padding: 0">
                <div *ngIf="
                    listPrice != salePrice &&
                    listPrice != 0
                  " style="
                    background-color: #c8232c;
                    color: white;
                    text-align-last: center;
                    padding: 10px;
                  ">
                  % {{ discount }}
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-12 col-12" style="text-align: center; font-size:16px; font-weight:bold;">
            <label style="text-align: center">
              {{ volume }}
              <span *ngIf="volumeEntity != 'Not'">
                {{ volumeEntity }}</span>
            </label>
          </div>

          <div class="col-md-12 col-12" style="
              text-align: center;
              background-color: #eee;
              padding-top: 10px;
              padding-bottom: 10px;
              margin-bottom: 10px;
              font-size: 20px;
            ">
            <label> {{ salePrice }} {{ salePriceCurrency }} </label>


            <label *ngIf="
                listPrice != salePrice && listPrice != 0
              " style="margin-left: 10px; text-decoration: line-through">
              {{ listPrice }} {{ listPriceCurrency }}</label>
            <label style="text-decoration: line-through" *ngIf="
                listPrice != salePrice && listPrice != 0
              ">
            </label>
          </div>

          <div class="col-md-12 col-12" *ngIf="product.colors.length!=0"
            style="margin-top:5px; text-align:center;background-color:#eee;  padding:0;  font-size:22px;">

            <select class="custom-select" [(ngModel)]="selectedColor"
              (ngModelChange)="selectColor($event,cartStockCode)" [ngModelOptions]="{standalone: true}">
              <option *ngFor="let color of colors" [ngValue]="color">
                {{color.color}}
              </option>
            </select>

          </div>

          <div class="col-md-12 col-12" *ngIf="product.sizes.length !=0"
            style="margin-top:5px;text-align:center;background-color:#eee; padding:0;  font-size:22px;">
            <select class="custom-select" [(ngModel)]="selectedSize" (ngModelChange)="selectSize($event
            ,cartStockCode)">
              <option *ngFor="let size of sizes" [ngValue]="size">
                {{size.volume}} {{size.volumeEntity}}
              </option>
            </select>

          </div>

          <div class="row" style="padding: 0; margin: 0; margin-top: 5px">
            <button [disabled]="buttonDisable" class="fa fa-minus col-md-4 col-4 btn btn-dark" style="border-radius: 0"
              (click)="down(product)"></button>

            <input type="text" placeholder="0" name="orderQuantity" #orderQuantity="ngModel"
              [(ngModel)]="product.orderQuantity" style="border-radius: 0; font-size: 20px"
              class="form-control col-md-4 col-4" />

            <button [disabled]="buttonDisable" class="fa fa-plus col-md-4 col-4 btn btn-dark" style="border-radius: 0"
              (click)="up(product)"></button>
          </div>

          <!-- <div class="row" style="padding:0; margin:0;">
                        <span style="font-size:18px;" >Toplam : {{product.unitPrice}} {{product.currency}}</span>

                    </div> -->

          <div class="row" style="padding: 0; margin: 0; margin-top: 10px; border-radius: 0">
            <button class="btn btn-warning btn-lg btn-block" [disabled]="buttonDisable" (click)="
                addToCart(
                  product._id,
                  product.title,
                  product.orderQuantity                       
                )
              " type="button">
              {{buttonTxt}}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br />

  <div class="row">
    <div class="col-md-8">
      <!-- <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link active" id="comment-tab" data-toggle="tab" href="#comment" role="tab"
            aria-controls="comment" aria-selected="false">Yorumlar</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="payment-tab" data-toggle="tab" href="#payment" role="tab" aria-controls="payment"
            aria-selected="false">Ödeme Yöntemleri</a>
        </li>
      </ul> -->
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="comment" role="tabpanel" aria-labelledby="comment-tab">


          <br />

          <form class="col s12 white" #commentForm="ngForm" (ngSubmit)="OnSubmitComment(commentForm)">
            <div class="card-body">
              <br />

              <div class="form-group row">
                <label class="col-sm-2 col-form-label">Yorum :</label>
                <div class="col-sm-10">
                  <textarea type="text" name="city" #city="ngModel" [(ngModel)]="comment.comment"
                    class="form-control"></textarea>
                </div>
            
              </div>
              <div class="form-group row">
                <label class="col-sm-2 col-form-label"></label>
                <div class="col-sm-8">
                 
                </div>
                <div class="col-sm-2">
                  <button type="button" class="btn btn-warning pull-right" type="submit">
                    Gönder
                  </button>
                </div>
              </div>

              <div class="form-group row" *ngFor="let comment of comments">
                {{ comment.comment }}
              </div>
            </div>
          </form>
        </div>
        <div class="tab-pane fade" id="payment" role="tabpanel" aria-labelledby="payment-tab">
          <h5>Ödeme yöntemleri</h5>
        </div>
      </div>
    </div>
  </div>
</div>